(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(28)},28:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),c=a.n(r),o=a(6),i=a(7),u=a(9),m=a(8),s=a(11),d=a(10),h=a(32),p=a(29),g=a(18),E=a(33),R=a(34),b=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement(g.a,null,l.a.createElement(E.a,{noValidate:!0,validated:this.props.validated,onSubmit:this.props.handleSubmit},l.a.createElement(E.a.Group,{controlId:"formURL"},l.a.createElement(E.a.Control,{size:"lg",type:"url",placeholder:"Enter racing post URL",value:this.props.url,onChange:this.props.handleChange,required:!0}),l.a.createElement(E.a.Control.Feedback,null,"Looks good!"),l.a.createElement(E.a.Control.Feedback,{type:"invalid"},"Invalid URL! Example: https://www.racingpost.com/racecards/193/navan/2019-07-13/735427/at-a-glance")),l.a.createElement(R.a,{variant:"primary",type:"submit",size:"lg",disabled:this.props.disable},"Submit"))))}}]),t}(l.a.Component),_=a(30),v=a(31),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={loading:!0,data:[],error:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cors-anywhere.herokuapp.com/".concat(this.props.url)).then(function(e){return e.text()}).then(function(t){for(var a=(new DOMParser).parseFromString(t,"text/html").getElementsByClassName("RC-glanceRunnerRow"),n=[],l=0;l<a.length;l++){var r={no:a[l].querySelectorAll(".RC-glanceRunner__no")[0].innerText.replace(/^\s+|\s+$/,"").trim(),draw:a[l].querySelectorAll(".RC-glanceRunner__draw")[0].innerText.replace(/^\s+|\s+$/,"").trim(),form:a[l].querySelectorAll(".RC-glanceRunner__form")[0].innerText.replace(/\D/g,"").trim(),horse:a[l].querySelectorAll(".RC-glanceRunner__name")[0].innerText.replace(/^\s+|\s+$/,"").trim(),age:a[l].querySelectorAll(".RC-glanceRunner__age")[0].innerText.replace(/^\s+|\s+$/,"").trim(),wgt:a[l].querySelectorAll(".RC-glanceRunner__wgt")[0].dataset.orderWgt,jockey:a[l].querySelectorAll(".RC-glanceRunner__team_jockey .RC-glanceRunner__teamName")[0].innerText.replace(/^\s+|\s+$/,"").trim(),trainer:a[l].querySelectorAll(".RC-glanceRunner__team_trainer .RC-glanceRunner__teamName")[0].innerText.replace(/^\s+|\s+$/,"").trim(),rtf:a[l].querySelectorAll(".RC-glanceRunner__team_trainer .RC-glanceRunner__teamCount")[0].innerText.replace(/^\s+|\s+$/,"").trim(),allowance:a[l].querySelectorAll(".RC-glanceRunner__team_jockey .RC-glanceRunner__teamCount")[0].innerText.replace(/^\s+|\s+$/,"").trim(),or:a[l].querySelectorAll(".RC-glanceRunner__or")[0].innerText.replace(/^\s+|\s+$/,"").trim(),ts:a[l].querySelectorAll(".RC-glanceRunner__ts")[0].innerText.replace(/^\s+|\s+$/,"").trim(),rpr:a[l].querySelectorAll(".RC-glanceRunner__rpr")[0].innerText.replace(/^\s+|\s+$/,"").trim()};r.wgt="".concat(Math.trunc(r.wgt/14)," ").concat(r.wgt%14),r.form.length>3&&(r.form=r.form.substr(r.form.length-3,3)),n.push(r)}e.setState({loading:!1,data:n})},function(t){e.setState({loading:!1,error:t})})}},{key:"render",value:function(){var e=this.props.url,t=this.state,a=t.loading,n=t.data.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.no),l.a.createElement("td",null,e.draw),l.a.createElement("td",{dangerouslySetInnerHTML:{__html:e.form}}),l.a.createElement("td",null,e.horse),l.a.createElement("td",null,e.age),l.a.createElement("td",{dangerouslySetInnerHTML:{__html:e.wgt}}),l.a.createElement("td",null,e.trainer),l.a.createElement("td",null,e.rtf),l.a.createElement("td",null,e.jockey),l.a.createElement("td",null,e.allowance),l.a.createElement("td",null,e.or),l.a.createElement("td",null,e.ts),l.a.createElement("td",null,e.rpr))});return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(p.a,{className:"text-center"},l.a.createElement(g.a,null,l.a.createElement(_.a,{animation:"border",variant:"primary"}))):l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null,l.a.createElement(g.a,null,l.a.createElement("h4",{className:"py-3"},"Result for: ",e))),l.a.createElement(p.a,null,l.a.createElement(g.a,null,l.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2"},"NO."),l.a.createElement("th",null,"DRAW"),l.a.createElement("th",null,"HORSE"),l.a.createElement("th",null,"AGE"),l.a.createElement("th",null,"WGT"),l.a.createElement("th",{colSpan:"2"},"TRAINER ",l.a.createElement("small",null,"RTF%")),l.a.createElement("th",{colSpan:"2"},"JOCKEY ",l.a.createElement("small",null,"Allowance")),l.a.createElement("th",null,"OR"),l.a.createElement("th",null,"TS"),l.a.createElement("th",null,"RPR"))),l.a.createElement("tbody",null,n))))))}}]),t}(l.a.Component),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(s.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.state={url:"",validated:!1,valid:!1,disable:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({url:e.target.value,validated:!1,valid:!1})}},{key:"handleSubmit",value:function(e){this.setState({disable:!0});var t=e.currentTarget;e.preventDefault(),e.stopPropagation(),!1===t.checkValidity()?this.setState({valid:!1}):this.setState({valid:!0}),this.setState({validated:!0,disable:!1})}},{key:"render",value:function(){var e,t=this.state,a=t.url,n=t.validated,r=t.valid,c=t.disable;return r&&n&&(e=l.a.createElement(y,{url:a})),l.a.createElement(h.a,null,l.a.createElement(p.a,null,l.a.createElement(g.a,null,l.a.createElement("h1",{className:"text-center py-5"},"Racing Post - 'At a Glance' Scraper"))),l.a.createElement(b,{url:a,validated:n,valid:r,handleChange:this.handleChange,handleSubmit:this.handleSubmit,disable:c}),e)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.27028369.chunk.js.map